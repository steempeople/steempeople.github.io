
---
title: '[개발] 스팀코인판 큐레이션 시스템 업데이트 (2019/10/20)'
permlink: 2019-10-20
catalog: true
toc_nav_num: true
toc: true
position: 9999
date: 2019-10-19 18:37:00
categories:
- sct
tags:
- sct
- sct-kr
- sct-dev
- sct-notice
- jjm
thumbnail: 'https://cdn.steemitimages.com/DQmNUYttPwL2nEhCGRXSxp3WnEt4W63d9jwYKXLHiPGinPM/image.png'
sidebar:
    right:
        sticky: true
widgets:
    -
        type: toc
        position: right
---


안녕하세요. 제이콥입니다.

큐레이션 시스템 (sct.down, sct.krwp, sct.curator) 및 홍보 소각 관련 업데이트입니다.

이번주에 발생한 문제가 2개 있었는데요. 이 문제들에 대해 아래와 같이 처리하였습니다.

그리고 krwp 보팅은  보팅비율 계산 부분이 약간 변경됐습니다.

### 1. 홍보소각 보팅 리스트 정렬 문제

기존에는 소각량, 소각날짜를 활용해서 보팅순서를 정했습니다. 

이제는  홍보소각 보팅 리스트에서 글 작성시간을 기준으로 일찍 작성된 글을 먼저 보팅합니다. 이렇게 수정한 이유는 2일 이내 (보팅을 받을 수 있는 기간)에 모두 보팅받을 수 있도록 하기 위해 수정했습니다. 

* (소각날짜와 소각량을 기준으로 보팅) —> 소각보팅에서 글작성시간기준으로 보팅 

### 2. 홍보소각 보팅 리스트에 포함되냐 문제

코드 상에서 하루를 체크하는 부분이 리스트를 만드는 봇의 시간에서 1일을 뺀 시간으로 돼있었습니다. 만약, 9시 2분에 리스트를 생성한다면, 하루 전날 오전 9시 2분에서, 오늘 9시 이내(미만)의 소각된 부분만 활용하여 리스트를 만듭니다.

리스트 만드는 봇과 상관없이 어제 9시 정각부터 - 오늘 9시 이전까지 소각된 내역에 대해 리스트를 만듭니다.

어떤 시간에 소각을 하여도, 보팅이 들어갈 수 있도록 하였습니다.


### 3. Krwp 비율에 따른 분배가 아닌 수량에 따른 분배로 변경

기존에는 krwp의 비율을 활용하여 보팅비율을 계산했습니다.

지금부터는 krwp의 비율이 아닌 krwp의 개수로 보팅비율을 계산합니다.

홀더의 보팅비율 = 1000 * (홀더의 krwp 개수/오늘 글쓴 사람들의 krwp 총합) + ...


----

----

궁금한 부분이 있으면 언제든 댓글달아주세요.

감사합니다.

- - -

This page is synchronized from the post: ['[개발] 스팀코인판 큐레이션 시스템 업데이트 (2019/10/20)'](https://steemit.com/@jacobyu/2019-10-20)
