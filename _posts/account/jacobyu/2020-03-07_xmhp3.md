
---
title: '[꿀팁] 유니스왑 방식에서 유동성 공급자가 얻는 이익'
permlink: xmhp3
catalog: true
toc_nav_num: true
toc: true
position: 9999
date: 2020-03-07 05:21:00
categories:
- sct-kr
tags:
- sct-kr
- sct-freeboard
- sct-invest
- zzan
- kr
- union
- s
- sct
thumbnail: 'https://cdn.steemitimages.com/DQmQZ6TAfGVKLRJafSZmS3becZx85xfzxVnLQxfPoczAMPE/image.png'
sidebar:
    right:
        sticky: true
widgets:
    -
        type: toc
        position: right
---


유동성 공급자에 대해 적어보겠습니다. 
결론만 보셔도 됩니다! ㅋㅋ

유니스왑 방식에서의 유동성 공급자는 풀에 토큰을 공급하고, 풀유동성 토큰을 받습니다. 이 토큰은 풀의 지분을 의미합니다.

* 유동성공급자가 되는 방법
* 유동성공급자가 돈을 버는 경우
* 잃는 경우

에 대해 적어보겠습니다.

## 예시

![](https://cdn.steemitimages.com/DQmQZ6TAfGVKLRJafSZmS3becZx85xfzxVnLQxfPoczAMPE/image.png)

krwp <-> steem 거래에  두 토큰을 공급하고 유동성 토큰을 받아보겠습니다.
전 250krwp와 531.580steem을 공급했습니다.

여기서 KRWP와 같이 내야할 스팀은 이렇게 계산됩니다.

> 내야할 STEEM 개수 = Pool STEEM 개수 * 입금한 KRWP 개수 / Pool KRWP 개수

내야할 STEEM 개수 = 4958.202 * 250/2331.821 = 31.580

> 받을 유동성 토큰 갯수 = 전체 Pool liquidity 개수 * 입금한 KRWP 개수 / Pool KRWP 개수

받을 유동성 토큰 갯수 =  137.61 * 250/2331.821 =14.7534

위의 갯수를 계산하는건 요거와 동일하게 계산됩니다.

![](https://cdn.steemitimages.com/DQmXpBgZxeKHJhzZcpRTdTYWLCTNEPgmdne15TqXK2PrzxF/image.png)

[참고-1](https://github.com/runtimeverification/verified-smart-contracts/blob/uniswap/uniswap/x-y-k.pdf)

[참고-2](https://jacobyu.net/Uniswap-%EC%9C%A0%EB%8F%99%EC%84%B1-%EA%B3%B5%EA%B8%89%EC%9E%90-%EA%B4%80%EB%A0%A8-%EB%82%B4%EC%9A%A9-%EB%8F%99%EC%9E%91%EC%9B%90%EB%A6%AC/)

아무튼 두 토큰을 제공하면 유동성 토큰을 받습니다.

유동성 토큰은 이 pool의 지분을 의미한다고 말했는데요.  저는 전체 pool의 5%지분을 갖고 있습니다. 이 지분만큼 언제든지 뺄 수 있습니다. (이건 다음 글에서 적어볼게요.)

## 유동성 공급자가 수익이 나기 위해서는

유동성 공급자가 수익이 나는 경우는 2가지입니다.

> 수익 = N일 후에 A토큰 갯수 * A토큰 가격 + B토큰 갯수 * B토큰 가격 - A토큰 갯수 * A토큰 가격 + B토큰 갯수 * B토큰 가격 

여기서 갯수가 늘거나 가격이 오르면 됩니다.

#### 토큰의 가격이 올랐다.

공급한 토큰들의 가격이 올랐다. 공급한 토큰들의 가격이 올랐을 경우, 수익을 볼 수 있습니다.

2개의 토큰 가격이 오르면 베스트이고요. 1개만 올라도 됩니다. 

#### 수수료가 쌓임

사용자들이 스왑시스템을 사용할수록 수수료가 Pool에 쌓입니다. Pool에 쌓인 토큰은 유동성 공급자의 몫이됩니다. 즉 공급자가 넣은 것의 합+ 수수료의 합에 자기 지분만큼 갖게 됩니다. 수수료가 쌓이기 때문에 유동성공급자가 가져갈 토큰 갯수가 늘어납니다. 즉, 사용자가 많이 사용하면 가격이 변하지않아도 수익을 볼 수 있습니다. 갯수가 늘어나니까요.


## 유동성 공급자가 돈을 잃는 경우

수익이 안날 수 있습니다. 토큰 가격이 떨어지는 경우입니다. 

> 수익 = N일 후에 A토큰 갯수 * A토큰 가격 + B토큰 갯수 * B토큰 가격 - A토큰 갯수 * A토큰 가격 + B토큰 갯수 * B토큰 가격 
이게 마이너스가 되는 경우가 돈을 잃는 경우입니다.

## 다른 예시 ETH <->DAI 

제가 말한건 유니스왑이나 sctswap이나 똑같이 적용됩니다.

DAI<->ETH로 예를 들면요.
DAI는 항상 가격이 똑같습니다. 그러면요. ETH가 가격이 일정하거나 오르기만 한다면, 무조건 수익이 되는겁니다. 왜냐하면 풀의 지분을 갖은 상태에서 꾸준히 사용자들이 사용하면요. 제 지분은 똑같은데 전체 풀이 커져버린거에요. 그래서 가져가는 양이 많아집니다.

## 결론

유동성공급자도 토큰가격이 떨어지면 손해입니다. 마찬가지로 토큰을 지갑에 갖고 있는 사람도 토큰 가격이 떨어지면 손해입니다.

유동성공급자는 풀에 토큰을 제공하고 얻는 이득은 두가지입니다.
* 수수료를 받게 됩니다. 토큰 개수를 늘릴 수 있습니다.  
* 2개 토큰을 같이 갖고 있는것이라서, 위험분산효과가 있습니다.

감사합니다.

- - -

This page is synchronized from the post: ['[꿀팁] 유니스왑 방식에서 유동성 공급자가 얻는 이익'](https://steemit.com/@jacobyu/xmhp3)
