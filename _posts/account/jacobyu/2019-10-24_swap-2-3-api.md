
---
title: '[개발] Swap기능 #2 엔진토큰 3일 평균가 api 개발'
permlink: swap-2-3-api
catalog: true
toc_nav_num: true
toc: true
position: 9999
date: 2019-10-24 17:38:09
categories:
- sct
tags:
- sct
- sct-kr
- sct-dev
- busy
thumbnail: 'https://cdn.steemitimages.com/DQmNUYttPwL2nEhCGRXSxp3WnEt4W63d9jwYKXLHiPGinPM/image.png'
sidebar:
    right:
        sticky: true
widgets:
    -
        type: toc
        position: right
---


안녕하세요.

#### API 개발 관련 내용

[스왑기능 개발](https://www.steemcoinpan.com/sct/@jacobyu/swap)에서 스왑기능을 소개했었습니다. 이 기능을 3단계에 거쳐 개발 중이고 이번엔 2단계에 해당하는걸 개발하고있습니다. 

스팀엔진 토큰 (SCT,SCTM,KRWP), 스팀, 스달의 3일 평균가를 계산하고, 그걸 출력하는 api를 개발중입니다.

----

먼저, 스달과 스팀은 coingecko에서 가격을 가져옵니다. (https://api.coingecko.com/api/v3/simple/price?ids=steem&vs_currencies=usd)

스팀엔진 토큰은 스팀엔진 거래소에서 가격을 가져옵니다.
이건 ssc라이브러리를 활용합니다.

가져온 토큰의 가격은 db에 저장되고, db에 저장된 데이터로 3일 평균 금액을 api로 제공할 수 있도록 했습니다. api가 호출될때, 3일전 데이터까지 불러와서 평균을 냅니다.

```
[{"symbol":"SCT","price":1.8931250000000004},
{"symbol":"SCTM","price":7.3875},
{"symbol":"KRWP","price":6.745000000000001},
{"symbol":"STEEM","price":0.125125},
{"symbol":"SBD","price":0.61025}]
```

#### 아직 남은 일

* 소수점 3째자리까지만 출력
* 스팀/원화, 스달/원화를 api에 포함시키기
* db에 3일치씩 토큰 평균가격 저장

---


스왑기능의 개발은 다음주까지는 끝낼 수 있도록 노력하겠습니다. 운영진, 개발팀 모두 열심히 하고있어요, ㅎㅎ 

테스트를 잘해서 완성도 있는 기능을 만들어보겠습니다.

감사합니다.

- - -

This page is synchronized from the post: ['[개발] Swap기능 #2 엔진토큰 3일 평균가 api 개발'](https://steemit.com/@jacobyu/swap-2-3-api)
